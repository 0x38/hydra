launcher:
  jobs_dir: /checkpoint/${env:USER}/hydra/${now:%Y-%m-%d_%H-%M-%S}
  queue: slurm
  # number of concurrent jobs
  concurrent: ???
  queues:
    local:
      class: fairtask.local.LocalQueueConfig
      params:
        num_workers: 2
    slurm:
      class: fairtask_slurm.slurm.SLURMQueueConfig
      params:
        num_jobs: ${launcher.concurrent}
        num_nodes_per_job: 1
        num_workers_per_node: 1
        name: hydra
        maxtime_mins: 4320
        partition: learnfair
        cpus_per_worker: 10
        mem_gb_per_worker: 64
        gres: 'gpu:1'
        logdir: /checkpoint/${env:USER}/fairtask/${launcher.queues.slurm.params.name}
        output: slurm-%j.out
        error: slurm-%j.err
  # debug launching issues, set to true to run workers in the same process.
  no_workers: false
